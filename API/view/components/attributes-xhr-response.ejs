<!-- Component of basic attribute form elements for editor -->
<div class="main-alert-target"></div>
<h5 class="pt-1 pr-1 mr-2"><strong>Basic Information</strong></h5>
<div class="form-row">
    <div class="form-group col-md-8">
        <label for="paperTitle">Paper Title</label>
        <input type="text" class="form-control" id="paperTitle" name="paperTitle" required="true" value="<%= Results.title %>"> 
    </div>
    <div class="form-group col-md-4">
        <label for="doi">DOI</label>
        <input type="text" class="form-control" id="doi" name="doi" placeholder="optional">
    </div>
</div>

<div class="form-row">
    <div class="form-group col-md-7">
        <label for="journalName">Journal Name</label>
        <input type="text" class="form-control" id="journalName" name="journalName" required="true" <% if (Results.journal_name !== "") { %>  value="<%= Results.journal_name %>" <% } else { %> placeholder="required" <% } %>> 
    </div>
    <div class="form-group offset-md-1 col-md-4">
        <label for="pub_year">Year Published</label>
        <input type="number" class="form-control" id="pubYear" name="pubYear" required="true" min="1900" Max="2100" step="1" value="<%= Results.date %>">
    </div>
</div>

<div class="form-row">
    <div class="form-group col-md-3">
        <label for="volume">Volume</label>
        <input type="text" class="form-control" id="volume" name="volume" required="true" <% if (Results.volume !== "") { %>  value="<%= Results.volume %>" <% } else { %> placeholder="required" <% } %> >
    </div>
    <div class="form-group offset-md-1 col-md-3">
        <label for="issue">Issue</label>
        <input type="text" class="form-control" id="issue" name="issue" <% if (Results.issue !== "") { %>  value="<%= Results.issue %>" <% } else { %> placeholder="optional" <% } %> >
    </div>
    <div class="form-group offset-md-1 col-md-3">
        <label for="series">Series</label>
        <input type="text" class="form-control" id="series" name="series" placeholder="optional">
    </div>
</div>

<div class="form-row author-header">
    <p class="pt-1 mr-2">Author(s)</p>
    <i class="fas fa-plus-circle fa-lg add-author mt-2 text-danger"></i>
</div>



<!-- Split authors by ", " -->
<% let authorsArray = Results.authors.split(/, |,|, and |,and /gm); %>
<!-- For each author split names and insert UI -->
<% for (let i = 0; i < authorsArray.length; i++) { %>
    <% let currentAuthor = authorsArray[i].split(' '); %>

    <% console.log(currentAuthor); %>

    <% if (currentAuthor.length === 3) { %>
        <div class="form-row">
            <div class="col-md-1">
                <i class="far fa-times-circle fa-lg remove remove-inline pt-4 text-danger" title="Press to remove author."></i>
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'primaryName' + i %>">Last Name</label>
                <input type="text" class="form-control" id="<%= 'primaryName' + i %>" name="<%= 'primaryName' + i %>" required="true" value="<%= currentAuthor[2] %>"> 
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'firstName' + i %>">First Name</label>
                <input type="text" class="form-control" id="<%= 'firstName' + i %>" name="<%= 'firstName' + i %>" required="true" value="<%= currentAuthor[0] %>"> 
            </div>

            <div class="form-group col-md-3">
                <label for="<%= 'middleName' + i %>" >Middle Initial</label>
                <input type="text" class="form-control" id="<%= 'middleName' + i %>" name="<%= 'middleName' + i %>" value="<%= currentAuthor[1] %>"> 
            </div>
        </div>
    <% } else if (currentAuthor.length === 2) { %>
        <div class="form-row">
            <div class="col-md-1">
                <i class="far fa-times-circle fa-lg remove remove-inline pt-4 text-danger" title="Press to remove author."></i>
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'primaryName' + i %>">Last Name</label>
                <input type="text" class="form-control" id="<%= 'primaryName' + i %>" name="<%= 'primaryName' + i %>" required="true" value="<%= currentAuthor[1] %>"> 
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'firstName' + i %>">First Name</label>
                <input type="text" class="form-control" id="<%= 'firstName' + i %>" name="<%= 'firstName' + i %>" required="true" value="<%= currentAuthor[0] %>"> 
            </div>
            
            <div class="form-group col-md-3">
                <label for="<%= 'middleName' + i %>" >Middle Initial</label>
                <input type="text" class="form-control" id="<%= 'middleName' + i %>" name="<%= 'middleName' + i %>" placeholder="optional"> 
            </div>
        </div>
    <% } else if (currentAuthor.length === 4) { %>
        <div class="form-row">
            <div class="col-md-1">
                <i class="far fa-times-circle fa-lg remove remove-inline pt-4 text-danger" title="Press to remove author."></i>
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'primaryName' + i %>">Last Name</label>
                <input type="text" class="form-control" id="<%= 'primaryName' + i %>" name="<%= 'primaryName' + i %>" required="true" value="<%= currentAuthor[3] %>"> 
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'firstName' + i %>">First Name</label>
                <input type="text" class="form-control" id="<%= 'firstName' + i %>" name="<%= 'firstName' + i %>" required="true" value="<%= currentAuthor[1] %>"> 
            </div>

            <div class="form-group col-md-3">
                <label for="<%= 'middleName' + i %>" >Middle Initial</label>
                <input type="text" class="form-control" id="<%= 'middleName' + i %>" name="<%= 'middleName' + i %>" value="<%= currentAuthor[2] %>"> 
            </div>
        </div>
    <% } else { %>
        <div class="form-row">
            <div class="col-md-1">
                <i class="far fa-times-circle fa-lg remove remove-inline pt-4 text-danger" title="Press to remove author."></i>
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'primaryName' + i %>">Last Name</label>
                <input type="text" class="form-control" id="<%= 'primaryName' + i %>" name="<%= 'primaryName' + i %>" required="true" placeholder="required"> 
            </div>

            <div class="form-group col-md-4">
                <label for="<%= 'firstName' + i %>">First Name</label>
                <input type="text" class="form-control" id="<%= 'firstName' + i %>" name="<%= 'firstName' + i %>" required="true" placeholder="required"> 
            </div>
            
            <div class="form-group col-md-3">
                <label for="<%= 'middleName' + i %>" >Middle Initial</label>
                <input type="text" class="form-control" id="<%= 'middleName' + i %>" name="<%= 'middleName' + i %>" placeholder="optional"> 
            </div>
        </div>
    <% } %>
<% } %>

<div class="authors-end"></div>